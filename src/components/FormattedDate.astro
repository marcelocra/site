---
const { date } = Astro.props;
---

<formatted-date data-date={date}>
  <time class={Astro.props.class} datetime={date}> </time>
</formatted-date>

<script>
  class FormattedDate extends HTMLElement {
    constructor() {
      super();

      this.querySelector("time")!.textContent = new Date(
        this.dataset.date!
      ).toLocaleDateString(navigator.language ?? "en", {
        year: "numeric",
        month: "short",
        day: "numeric",
      });
    }
  }

  customElements.define("formatted-date", FormattedDate);
</script>
