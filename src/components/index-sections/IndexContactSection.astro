---
import SvgContactBlueShape from "./svgs/SvgContactBlueShape.astro";
---

<div class="grid grid-cols-2 items-center">
  <div class="relative">
    <SvgContactBlueShape />
    <div
      class="absolute left-[28%] top-[30%] w-[46%] font-black text-5xl text-white leading-[58px]"
    >
      Have a project in mind? Let's work together.
    </div>
  </div>

  <div class="flex flex-col items-center">
    <contact-form class="flex flex-col items-center w-3/5 mx-auto">
      <textarea
        placeholder="Mensagem direta (WhatsApp)"
        class="textarea border-b-slate-400 rounded-none bg-transparent focus:border-none mb-4 w-full"
        rows="1"></textarea>
      <a
        href=""
        class="cursor-pointer bg-black text-white font-bold px-10 py-2 rounded-[10px] hover:bg-opacity-80 mt-2"
        >Enviar</a
      >
      <div class="flex flex-col w-full justify-start">
        <div class="mt-14">
          <p class="text-base">E-mail</p>
          <a class="font-bold link" href="mailto:marcelocralmeida@gmail.com"
            >marcelocralmeida at gmail dot com</a
          >
        </div>
        <div class="mt-4">
          <p class="text-base">Social Media</p>
          <a class="font-bold link" href="https://mcra.dev/linkedin">LinkedIn</a
          >
        </div>
      </div>
    </contact-form>
  </div>
</div>

<script>
  class ContactForm extends HTMLElement {
    constructor() {
      super();
    }

    connectedCallback() {
      this.querySelector("a")!.addEventListener("click", (e) => {
        e.preventDefault();

        const message = this.querySelector("input")!.value;
        const url = `https://api.whatsapp.com/send?phone=5511999999999&text=${message}`;
        window.open(url, "_blank");
      });
    }
  }

  customElements.define("contact-form", ContactForm);
</script>
