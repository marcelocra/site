---
import HeaderLink from "./HeaderLink.astro";
import { SITE_TITLE } from "../consts";
import Button from "./Button.astro";
---

<div class="drawer shadow-xl">
  <input id="my-drawer-3" type="checkbox" class="drawer-toggle" />
  <div class="drawer-content flex flex-col">
    <!-- Navbar -->
    <div class="w-full navbar sticky top-0 z-50 bg-[#ECEBE4]">
      <!-- Hamburguer menu -->
      <div class="flex-none lg:hidden">
        <label
          for="my-drawer-3"
          aria-label="open sidebar"
          class="btn btn-square btn-ghost"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            class="inline-block w-6 h-6 stroke-current"
            ><path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"></path></svg
          >
        </label>
      </div>

      <nav
        class="flex flex-row items-center justify-between max-w-5xl mx-auto w-full"
      >
        <!-- Site name to the left -->
        <a
          class="w-20 leading-5 text-bold font-bold text-center no-underline text-black"
          href="/">{SITE_TITLE}</a
        >

        <!-- Site top menu options in the middle -->
        <div class="flex-none hidden lg:flex lg:gap-10">
          <HeaderLink href="/#home">Home</HeaderLink>
          <HeaderLink href="/#about">About</HeaderLink>
          <HeaderLink href="/#projects">Projects</HeaderLink>
          <HeaderLink href="/#services">Services</HeaderLink>
          <HeaderLink href="/blog">Blog</HeaderLink>
        </div>

        <!-- Right side button -->
        <a href="/#contact"><Button>Start Project</Button></a>
      </nav>
    </div>
  </div>
  <div class="drawer-side z-50">
    <label for="my-drawer-3" aria-label="close sidebar" class="drawer-overlay">
    </label>
    <ul class="menu p-4 w-fit min-h-full bg-base-200 flex flex-col gap-3">
      <!-- Sidebar content here -->
      <li>
        <HeaderLink href="/#home">Home</HeaderLink>
      </li>
      <li>
        <HeaderLink href="/#about">About</HeaderLink>
      </li>
      <li>
        <HeaderLink href="/#projects">Projects</HeaderLink>
      </li>
      <li>
        <HeaderLink href="/#services">Services</HeaderLink>
      </li>
      <li>
        <HeaderLink href="/blog">Blog</HeaderLink>
      </li>
    </ul>
  </div>

  <script>
    // const hash = window.location.hash;
    // let next = document.querySelector(`a[href="${hash}"]`));

    // document.querySelectorAll(`).forEach(x => {
    //   x.addEventListener('click', (event) => {
    //     console.log({hash: window.location.hash});

    //   })
    // })

    // document. a")?.forEach((el) => {
    //   if (
    //     el.textContent?.toLowerCase().trim() ===
    //     window.location.hash.slice(1).trim()
    //   ) {
    //     el.setAttribute("active", "true");
    //   } else {
    //     el.setAttribute("active", "false");
    //   }
    //   el.addEventListener("click", (smtg) => {
    //     document
    //       .getElementById("my-drawer-3")
    //       ?.setAttribute(
    //         "checked",
    //         !document.getElementById("my-drawer-3")?.getAttribute("checked")
    //       );
    //   });
    // });
  </script>
</div>
