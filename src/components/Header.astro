---
import HeaderLink from "./HeaderLink.astro";
import { SITE_TITLE } from "../consts";
import Button from "./Button.astro";
---

<div class="drawer shadow-xl">
  <input id="my-drawer-3" type="checkbox" class="drawer-toggle" />
  <div class="drawer-content flex flex-col">
    <!-- Navbar -->
    <div class="w-full navbar bg-[#ECEBE4]">
      <!-- Hamburguer menu -->
      <div class="flex-none lg:hidden">
        <label
          for="my-drawer-3"
          aria-label="open sidebar"
          class="btn btn-square btn-ghost"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            class="inline-block w-6 h-6 stroke-current"
            ><path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"></path></svg
          >
        </label>
      </div>

      <nav
        class="flex flex-row items-center justify-between max-w-[var(--max-width)] mx-auto w-full"
      >
        <!-- Site name to the left -->
        <a
          class="w-20 leading-5 text-bold font-bold text-center no-underline text-black"
          href="/">{SITE_TITLE}</a
        >

        <!-- Site top menu options in the middle -->
        <div class="flex-none hidden lg:flex lg:gap-10">
          <HeaderLink class="header-link" href="/#">Home</HeaderLink>
          <HeaderLink class="header-link" href="/#about">About</HeaderLink>
          <HeaderLink class="header-link" href="/#projects">Projects</HeaderLink
          >
          <HeaderLink class="header-link" href="/blog">Blog</HeaderLink>
        </div>

        <!-- Right side button -->
        <a href="/#contact"><Button>Start Project</Button></a>
      </nav>
    </div>
  </div>
  <div class="drawer-side">
    <label for="my-drawer-3" aria-label="close sidebar" class="drawer-overlay"
    ></label>
    <ul class="menu p-4 w-80 min-h-full bg-base-200">
      <!-- Sidebar content here -->
      <li><HeaderLink class="header-link" href="#">Home</HeaderLink></li>
      <li><HeaderLink class="header-link" href="#about">About</HeaderLink></li>
      <li>
        <HeaderLink class="header-link" href="#projects">Projects</HeaderLink>
      </li>
      <li><HeaderLink class="header-link" href="#blog">Blog</HeaderLink></li>
    </ul>
  </div>
</div>

<header class="hidden bg-[#ECEBE4] p-5 shadow-xl sticky top-0 z-50">
  <nav
    class="flex flex-row items-center justify-between max-w-[var(--max-width)] mx-auto"
  >
    <a
      class="w-20 leading-5 text-bold font-bold text-center no-underline text-black"
      href="/">{SITE_TITLE}</a
    >
    <div id="Header" class="flex gap-10">
      <HeaderLink class="header-link" href="#">Home</HeaderLink>
      <HeaderLink class="header-link" href="#about">About</HeaderLink>
      <HeaderLink class="header-link" href="#projects">Projects</HeaderLink>
      <HeaderLink class="header-link" href="#blog">Blog</HeaderLink>
    </div>
    <a href="/#contact"><Button>Start Project</Button></a>
  </nav>
</header>

<script>
  // const hash = window.location.hash;
  // let next = document.querySelector(`a[href="${hash}"]`));

  // document.querySelectorAll(`a.header-link`).forEach(x => {
  //   x.addEventListener('click', (event) => {
  //     console.log({hash: window.location.hash});

  //   })
  // })

  // document.querySelectorAll(".header-link  a")?.forEach((el) => {
  //   if (
  //     el.textContent?.toLowerCase().trim() ===
  //     window.location.hash.slice(1).trim()
  //   ) {
  //     el.setAttribute("active", "true");
  //   } else {
  //     el.setAttribute("active", "false");
  //   }
  //   el.addEventListener("click", (smtg) => {
  //     document
  //       .getElementById("my-drawer-3")
  //       ?.setAttribute(
  //         "checked",
  //         !document.getElementById("my-drawer-3")?.getAttribute("checked")
  //       );
  //   });
  // });
</script>
